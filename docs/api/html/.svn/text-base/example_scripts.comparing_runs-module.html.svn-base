<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>example_scripts.comparing_runs</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="example_scripts-module.html">Package&nbsp;example_scripts</a> ::
        Module&nbsp;comparing_runs
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="example_scripts.comparing_runs-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module comparing_runs</h1><p class="nomargin-top"><span class="codelink"><a href="example_scripts.comparing_runs-pysrc.html">source&nbsp;code</a></span></p>
<p>Example how to compare two (or more) msruns</p>

<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="example_scripts.comparing_runs-module.html#compare_msrun" class="summary-sig-name">compare_msrun</a>()</span><br />
      Example how to compare two runs and plot a histogram of the 
      similarity of all the matching spectra.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="example_scripts.comparing_runs-pysrc.html#compare_msrun">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="__package__"></a><span class="summary-name">__package__</span> = <code title="'example_scripts'"><code class="variable-quote">'</code><code class="variable-string">example_scripts</code><code class="variable-quote">'</code></code>
    </td>
  </tr>
</table>
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="compare_msrun"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">compare_msrun</span>()</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="example_scripts.comparing_runs-pysrc.html#compare_msrun">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Example how to compare two runs and plot a histogram of the similarity
  of all the matching spectra. It can compare any two mzML files but works 
  best when comparing two aligned files. It compares the retention time of 
  all the spectra of both msruns with each other and when they are the 
  same, uses pymzml's spec1.similarityTo(spec2) function. This returns a 
  value between 0-1 for each compared spectrum which can then be plotted. 
  Also possible is to put in 3 or more msrun files, this will compare all 
  msruns with eachother (so: 1 to 2, 1 to 3 and 2 to 3.)</p>
  <p>This example script uses the following classes and functions:</p>
  <ul>
    <li>
      <a href="pyMSA.compareRuns.CompareRuns-class.html" 
      class="link">compareRuns.CompareRuns</a>
    </li>
    <li>
      <a href="pyMSA.compareRuns.CompareRuns-class.html#compare_mzML" 
      class="link">compareRuns.CompareRuns.compare_mzML</a>
    </li>
  </ul>
  <p>Comparing two msruns and plotting a histogram of the similarity 
  between the spectra</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-keyword">from</span> pyMSA <span class="py-keyword">import</span> compareRuns                                    
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-keyword">import</span> pymzml
<span class="py-prompt">&gt;&gt;&gt; </span>msrun1 = pymzml.run.Reader(r<span class="py-string">'example_files/input/example_aligned_file_1.aligned.mzML'</span>)                                    <span class="py-comment"># Make an instance of pymzml.run.Reader with file you want to compare as input</span>
<span class="py-prompt">&gt;&gt;&gt; </span>msrun2 = pymzml.run.Reader(r<span class="py-string">'example_files/input/example_aligned_file_2.aligned.mzML'</span>)                                    <span class="py-comment"># Make another instance of pymzml.run.Reader with file you want to compare as input</span>
<span class="py-prompt">&gt;&gt;&gt; </span>compare = compareRuns.CompareRuns(msrun1, msrun2)                                                                         <span class="py-comment"># Make an instance of compareRuns.CompareRuns with the two instances of pymzml.run.Reader that you want to compare</span>
<span class="py-prompt">&gt;&gt;&gt; </span>similarityList, missCount1, missCount2 = compare.compare_mzML()                                                           <span class="py-comment"># Compare the two files and retrieve a list of similarities</span>
<span class="py-prompt">&gt;&gt;&gt; </span>floatVector = R.FloatVector(similarityList)                                                                               <span class="py-comment"># Make a FloatVector out of the list</span>
<span class="py-prompt">&gt;&gt;&gt; </span>plots = rPlots.Plots()                                                                                                    <span class="py-comment"># Make an instance of rPlots.Plots</span>
<span class="py-prompt">&gt;&gt;&gt; </span>plots.histogram(<span class="py-string">'example_files/output/similarity_histogram.png'</span>, floatVector,                                             <span class="py-comment"># Plot a histogram of the results</span>
<span class="py-more">... </span>    xlab=<span class="py-string">'similarity'</span>, ylab=<span class="py-string">'# of spectra'</span>, width=600, height=600, 
<span class="py-more">... </span>    title=<span class="py-string">'compare example 1 and example 2. Missed in first: '</span>+str(missCount1)+<span class="py-string">' missed in second: '</span>+str(missCount2))</pre>
  <dl class="fields">
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Wed Jun 20 18:35:00 2012
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
