<?xml version="1.0" encoding="ascii"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
          "DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>pyMSA.elementFunctions</title>
  <link rel="stylesheet" href="epydoc.css" type="text/css" />
  <script type="text/javascript" src="epydoc.js"></script>
</head>

<body bgcolor="white" text="black" link="blue" vlink="#204080"
      alink="#204080">
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table width="100%" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="100%">
      <span class="breadcrumbs">
        <a href="pyMSA-module.html">Package&nbsp;pyMSA</a> ::
        Module&nbsp;elementFunctions
      </span>
    </td>
    <td>
      <table cellpadding="0" cellspacing="0">
        <!-- hide/show private -->
        <tr><td align="right"><span class="options">[<a href="javascript:void(0);" class="privatelink"
    onclick="toggle_private();">hide&nbsp;private</a>]</span></td></tr>
        <tr><td align="right"><span class="options"
            >[<a href="frames.html" target="_top">frames</a
            >]&nbsp;|&nbsp;<a href="pyMSA.elementFunctions-module.html"
            target="_top">no&nbsp;frames</a>]</span></td></tr>
      </table>
    </td>
  </tr>
</table>
<!-- ==================== MODULE DESCRIPTION ==================== -->
<h1 class="epydoc">Module elementFunctions</h1><p class="nomargin-top"><span class="codelink"><a href="pyMSA.elementFunctions-pysrc.html">source&nbsp;code</a></span></p>
<p>Functions that get information out of cElementTree elements</p>

<!-- ==================== FUNCTIONS ==================== -->
<a name="section-Functions"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Functions</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Functions"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dictionary</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pyMSA.elementFunctions-module.html#getItems" class="summary-sig-name">getItems</a>(<span class="summary-sig-arg">element</span>)</span><br />
      Make a dictionary out of the items of <i>one</i> element, with index 
      0 of the itemslist as key and index 1 of the itemslist as value.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="pyMSA.elementFunctions-pysrc.html#getItems">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pyMSA.elementFunctions-module.html#getAllNestedItems" class="summary-sig-name">getAllNestedItems</a>(<span class="summary-sig-arg">element</span>,
        <span class="summary-sig-arg">structuredDict</span>=<span class="summary-sig-default"><code class="variable-group">{</code><code class="variable-group">}</code></span>)</span><br />
      Use <a href="pyMSA.elementFunctions-module.html#getItems" 
      class="link">getItems</a> to make a dictionary out of the items of 
      the element, Then, loop through the element and recursively call 
      getAllNestedItems.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="pyMSA.elementFunctions-pysrc.html#getAllNestedItems">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">dict</span>
    </td><td class="summary">
      <table width="100%" cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td><span class="summary-sig"><a href="pyMSA.elementFunctions-module.html#getAllNestedElementInformation" class="summary-sig-name">getAllNestedElementInformation</a>(<span class="summary-sig-arg">element</span>)</span><br />
      Gets all the value and content information of the element and all the
      elements that are in the element, and maintains the nested structure.</td>
          <td align="right" valign="top">
            <span class="codelink"><a href="pyMSA.elementFunctions-pysrc.html#getAllNestedElementInformation">source&nbsp;code</a></span>
            
          </td>
        </tr>
      </table>
      
    </td>
  </tr>
</table>
<!-- ==================== VARIABLES ==================== -->
<a name="section-Variables"></a>
<table class="summary" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Variables</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-Variables"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
<tr>
    <td width="15%" align="right" valign="top" class="summary">
      <span class="summary-type">&nbsp;</span>
    </td><td class="summary">
        <a name="__package__"></a><span class="summary-name">__package__</span> = <code title="'pyMSA'"><code class="variable-quote">'</code><code class="variable-string">pyMSA</code><code class="variable-quote">'</code></code>
    </td>
  </tr>
</table>
<!-- ==================== FUNCTION DETAILS ==================== -->
<a name="section-FunctionDetails"></a>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr bgcolor="#70b0f0" class="table-header">
  <td colspan="2" class="table-header">
    <table border="0" cellpadding="0" cellspacing="0" width="100%">
      <tr valign="top">
        <td align="left"><span class="table-header">Function Details</span></td>
        <td align="right" valign="top"
         ><span class="options">[<a href="#section-FunctionDetails"
         class="privatelink" onclick="toggle_private();"
         >hide private</a>]</span></td>
      </tr>
    </table>
  </td>
</tr>
</table>
<a name="getItems"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">getItems</span>(<span class="sig-arg">element</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="pyMSA.elementFunctions-pysrc.html#getItems">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Make a dictionary out of the items of <i>one</i> element, with index 0
  of the itemslist as key and index 1 of the itemslist as value. This is an
  element as returned by the pymzml parsing of an mzml file</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>element</code></strong> (Element from cElementTree) - Element</li>
    </ul></dd>
    <dt>Returns: dictionary</dt>
        <dd>The items of element</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'>TypeError</strong></code> - element if not of type 'Element'
        <p><b>Example</b>:</p>
        <p>Print the items of all the elements in a featureXML file</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-keyword">from</span> xml.etree <span class="py-keyword">import</span> cElementTree
<span class="py-prompt">&gt;&gt;&gt; </span>elementFile = open(<span class="py-string">'example_feature_file.featureXML'</span>)
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-keyword">for</span> event, element <span class="py-keyword">in</span> cElementTree.iterparse(elementFile):
<span class="py-more">... </span>   <span class="py-keyword">print</span> getItems(element)
<span class="py-output">{'version': '1.8.0', 'name': 'FeatureFinder'}</span>
<span class="py-output">{'name': 'Quantitation'}</span>
<span class="py-output"></span><span class="py-prompt">&gt;&gt;&gt; </span>elementFile.close()</pre></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="getAllNestedItems"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">getAllNestedItems</span>(<span class="sig-arg">element</span>,
        <span class="sig-arg">structuredDict</span>=<span class="sig-default"><code class="variable-group">{</code><code class="variable-group">}</code></span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="pyMSA.elementFunctions-pysrc.html#getAllNestedItems">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Use <a href="pyMSA.elementFunctions-module.html#getItems" 
  class="link">getItems</a> to make a dictionary out of the items of the 
  element, Then, loop through the element and recursively call 
  getAllNestedItems. This way, all the items of all the elements nested in 
  element get returned. getAllNestedItems is a generator objects that 
  yields a dictionary, so you have to loop through the results.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>element</code></strong> (Element from cElementTree) - Element</li>
    </ul></dd>
    <dt>Returns: dict</dt>
        <dd>All the key-value pairs found in element (using <a 
          href="pyMSA.elementFunctions-module.html#getItems" 
          class="link">getItems</a>)</dd>
    <dt>Raises:</dt>
    <dd><ul class="nomargin-top">
        <li><code><strong class='fraise'>TypeError</strong></code> - element if not of type 'Element'
        <p><b>Example</b>:</p>
        <p>Print the items of all the elements nested in element of an 
        example xml file:</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-keyword">import</span> cElementTree
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-keyword">for</span> event, element <span class="py-keyword">in</span> cElementTree.iterparse(<span class="py-string">'example_file.xml'</span>)
<span class="py-more">... </span>   <span class="py-keyword">for</span> info <span class="py-keyword">in</span> getAllNestedItems(element):
<span class="py-more">... </span>       <span class="py-keyword">print</span> info
<span class="py-output">{'index': '0', 'defaultArrayLength': '250', 'id': 'controllerType=0 controllerNumber=1 scan=1', 'dataProcessingRef': 'dp_sp_0'}</span>
<span class="py-output">{'cvRef': 'MS', 'accession': 'MS:1000127', 'name': 'centroid spectrum'}</span>
<span class="py-output">{'cvRef': 'MS', 'accession': 'MS:1000511', 'value': '1', 'name': 'ms level'}</span>
<span class="py-output">{'cvRef': 'MS', 'accession': 'MS:1000294', 'name': 'mass spectrum'}</span>
<span class="py-output">{'cvRef': 'MS', 'accession': 'MS:1000130', 'name': 'positive scan'}</span></pre></li>
    </ul></dd>
  </dl>
</td></tr></table>
</div>
<a name="getAllNestedElementInformation"></a>
<div>
<table class="details" border="1" cellpadding="3"
       cellspacing="0" width="100%" bgcolor="white">
<tr><td>
  <table width="100%" cellpadding="0" cellspacing="0" border="0">
  <tr valign="top"><td>
  <h3 class="epydoc"><span class="sig"><span class="sig-name">getAllNestedElementInformation</span>(<span class="sig-arg">element</span>)</span>
  </h3>
  </td><td align="right" valign="top"
    ><span class="codelink"><a href="pyMSA.elementFunctions-pysrc.html#getAllNestedElementInformation">source&nbsp;code</a></span>&nbsp;
    </td>
  </tr></table>
  
  <p>Gets all the value and content information of the element and all the 
  elements that are in the element, and maintains the nested structure. So 
  if an xml file looks like this:</p>
<pre class="literalblock">
element1 name=&quot;centroid spectrum&quot;&gt;
   &lt;element2 count=1&gt;
       &lt;element3&gt;Content&lt;/element3&gt;
   &lt;/element2&gt;
</pre>
  <p>&lt;/element1&gt; The resulting dict will look like: 
  {element:{'name':'centroid spectrum', 
  'nestedElement':{element2:{count=1}, 
  'nestedElement':{element3:{content='Content'}}}}} The values of the inner
  items are found using <a 
  href="pyMSA.elementFunctions-module.html#getItems" 
  class="link">getItems</a> and the content is found using .text. All 
  element dicts have a value tagName found by element.tag.</p>
  <dl class="fields">
    <dt>Parameters:</dt>
    <dd><ul class="nomargin-top">
        <li><strong class="pname"><code>element</code></strong> (Element from cElementTree) - Element</li>
    </ul></dd>
    <dt>Returns: dict</dt>
        <dd>A dict which contains the structure and information of the 
          elements and its nested elements.
          <p><b>Example</b>:</p>
          <p>Getting the dictionary of one element with the information of 
          itself and all sub-elements:</p>
<pre class="py-doctest">
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-keyword">import</span> cElementTree
<span class="py-prompt">&gt;&gt;&gt; </span><span class="py-keyword">for</span> event, element <span class="py-keyword">in</span> cElementTree.iterparse(<span class="py-string">'example_file.xml'</span>)
<span class="py-more">... </span>   <span class="py-keyword">for</span> info <span class="py-keyword">in</span> getAllNestedElementInformation(element):
<span class="py-more">... </span>       <span class="py-keyword">print</span> getAllNestedElementInformation(element)
<span class="py-output">defaultdict(&lt;type 'dict'&gt;, {&lt;Element '{http://psi.hupo.org/ms/mzml}spectrum' at 0x16015d50&gt;: {'index': '1', 'nestedElement': defaultdict(&lt;type 'dict'&gt;, {&lt;Element '{http://psi.hupo.org/ms/mzml}binaryDataArrayList' at 0x1601c930&gt;: {'count': '2', 'nestedElement': defaultdict(&lt;type 'dict'&gt;, {&lt;Element '{http://psi.hupo.org/ms/mzml}binaryDataArray' at 0x1601cc90&gt;: {'nestedElement': defaultdict(&lt;type 'dict'&gt;, {&lt;Element '{http://psi.hupo.org/ms/mzml}cvParam' at 0x1601ce70&gt;: {'cvRef': 'MS', 'accession': 'MS:1000576', 'tagName': '{http://psi.hupo.org/ms/mzml}cvParam', 'name': 'no compression'}}), 'tagName': '{http://psi.hupo.org/ms/mzml}binaryDataArray', 'encodedLength': '3004'}}), 'tagName': '{http://psi.hupo.org/ms/mzml}binaryDataArrayList'}}), 'defaultArrayLength': '563', 'id': 'controllerType=0 controllerNumber=1 scan=2', 'tagName': '{http://psi.hupo.org/ms/mzml}spectrum'}})</span></pre></dd>
  </dl>
</td></tr></table>
</div>
<br />
<!-- ==================== NAVIGATION BAR ==================== -->
<table class="navbar" border="0" width="100%" cellpadding="0"
       bgcolor="#a0c0ff" cellspacing="0">
  <tr valign="middle">

  <!-- Tree link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="module-tree.html">Trees</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Index link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="identifier-index.html">Indices</a>&nbsp;&nbsp;&nbsp;</th>

  <!-- Help link -->
      <th>&nbsp;&nbsp;&nbsp;<a
        href="help.html">Help</a>&nbsp;&nbsp;&nbsp;</th>

      <th class="navbar" width="100%"></th>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="100%%">
  <tr>
    <td align="left" class="footer">
    Generated by Epydoc 3.0.1 on Wed Jun 20 18:35:01 2012
    </td>
    <td align="right" class="footer">
      <a target="mainFrame" href="http://epydoc.sourceforge.net"
        >http://epydoc.sourceforge.net</a>
    </td>
  </tr>
</table>

<script type="text/javascript">
  <!--
  // Private objects are initially displayed (because if
  // javascript is turned off then we want them to be
  // visible); but by default, we want to hide them.  So hide
  // them unless we have a cookie that says to show them.
  checkCookie();
  // -->
</script>
</body>
</html>
